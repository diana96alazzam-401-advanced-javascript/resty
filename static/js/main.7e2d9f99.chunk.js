(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{13:function(e,t,a){},20:function(e,t,a){},26:function(e,t,a){e.exports=a(62)},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){},57:function(e,t,a){},58:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),o=a.n(s),l=a(14),i=(a(31),a(7)),c=a(8),h=a(10),u=a(9),d=a(2),m=(a(32),a(33),function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"RESTy"),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("a",{href:"/"},"Home")),r.a.createElement("li",null,r.a.createElement("a",{href:"/history"},"History")))))}),p=a(15),y=a.n(p),f=a(23),E=(a(35),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(f.a)(y.a.mark((function e(t){var a,r,s,o,l,i,c,h,u,d,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),t.persist(),!n.state.url||!n.state.method){e.next=49;break}if(n.props.progress(!0),a={url:n.state.url,method:n.state.method,body:n.state.body},"","","",n.setState({request:a,url:"",method:"",body:""}),r=[],s={body:n.state.body,header:r,host:n.state.url.split("/")[2],method:n.state.method,path:n.state.url.split("/").slice(3).join("/"),url:n.state.url},"GET"!==n.state.method&&"DELETE"!==n.state.method){e.next=29;break}return e.next=15,fetch(a.url);case 15:return o=e.sent,n.props.progress(!1),o.headers.forEach((function(e){return r.push(e)})),e.next=20,o.json();case 20:l=e.sent,n.props.handler(r,l,n.state.loading),i=(new Date).getTime(),(c=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):{})[i]=s,localStorage.setItem("history",JSON.stringify(c)),n.props.renderHistory(c),e.next=44;break;case 29:return e.next=31,fetch(n.state.url,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:n.state.method,body:n.state.body});case 31:return h=e.sent,n.props.progress(!1),h.headers.forEach((function(e){return r.push(e)})),e.next=36,h.json();case 36:u=e.sent,n.props.handler(r,u),d=(new Date).getTime(),(m=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):{})[d]=s,localStorage.setItem("history",JSON.stringify(m)),console.log(m,"what?"),n.props.renderHistory(m);case 44:t.target.url.value="",t.target.body.value="",t.target.method="",e.next=50;break;case 49:alert("missing information");case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(0),console.log(e.t0);case 55:case"end":return e.stop()}}),e,null,[[0,52]])})));return function(t){return e.apply(this,arguments)}}(),n.handleChangeURL=function(e){var t=e.target.value;n.setState({url:t})},n.handleChangeBody=function(e){var t=e.target.value;t&&n.setState({body:t})},n.handleChangeMethod=function(e){var t=e.target.id;n.setState({method:t})},n.props=e,n.state={url:"",method:"",body:{},request:{}},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("span",null,"URL: "),r.a.createElement("input",{id:"textInput",name:"url",type:"text",onChange:this.handleChangeURL,className:this.state.url?this.state.url:""}),r.a.createElement("span",null,"Body: "),r.a.createElement("input",{id:"bodyTextInput",name:"body",type:"text",onChange:this.handleChangeBody,className:this.state.body?this.state.body:""}),r.a.createElement("button",{type:"submit"},this.props.prompt)),r.a.createElement("label",{className:"methods"},r.a.createElement("span",{name:"method",className:"GET"===this.state.method?"active":"",id:"GET",onClick:this.handleChangeMethod},"GET"),r.a.createElement("span",{name:"method",className:"POST"===this.state.method?"active":"",id:"POST",onClick:this.handleChangeMethod},"POST"),r.a.createElement("span",{name:"method",className:"PUT"===this.state.method?"active":"",id:"PUT",onClick:this.handleChangeMethod},"PUT"),r.a.createElement("span",{name:"method",className:"DELETE"===this.state.method?"active":"",id:"DELETE",onClick:this.handleChangeMethod},"DELETE")))}}]),a}(r.a.Component)),g=a(16),b=a.n(g),v=a(24),O=a.n(v),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},j=function(e){return r.a.Children.map(e.children,(function(t){return r.a.cloneElement(t,{condition:e.condition})}))},k=function(e){return S(e.condition,e.children)},C=(a(57),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).props=e,n}return Object(c.a)(a,[{key:"render",value:function(){return this.props.progress?r.a.createElement(O.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"}):r.a.createElement(j,{condition:0!==Object.keys(this.props.response).length},r.a.createElement(k,null,r.a.createElement("div",{id:"resultsDiv"},r.a.createElement("section",{className:"results"},r.a.createElement("span",null,"Headers"),r.a.createElement(b.a,{id:"headersID",src:this.props.headers,theme:"shapeshifter:inverted"}),r.a.createElement("span",null,"Response"),r.a.createElement(b.a,{id:"responseID",src:this.props.response,theme:"shapeshifter:inverted"})))))}}]),a}(r.a.Component));a(13),a(20);var T=function(e){return r.a.createElement("li",{className:"history",onClick:e.historyRecall},r.a.createElement("span",null,"Method*",e.method,"*URL*",e.url,"*Body*",e.body))},x=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=(e.history,{history:e.history}),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));this.setState({history:e})}},{key:"render",value:function(){var e=this,t=this.state.history?this.state.history:{},a=Object.keys(t).map((function(e){return t[e]}));return r.a.createElement("ul",{id:"historyLog"},Object.keys(a).map((function(n){var s=0===Object.keys(a[n].body).length&&t.constructor===Object?"":a[n].body;return r.a.createElement(T,{key:n,method:a[n].method,url:a[n].url,body:s,historyRecall:e.props.historyRecall})})))}}]),a}(r.a.Component),I=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state=e.historyList?e.historyList:{},n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));this.setState({history:e})}},{key:"render",value:function(){var e=this.state.history?this.state.history:{},t=Object.keys(e).map((function(t){return e[t].id=t,e[t]}));return r.a.createElement("ul",{id:"historyList"},Object.keys(t).map((function(e){return r.a.createElement("li",{className:"history",key:e},r.a.createElement("span",null,"ID: ",t[e].id," "),r.a.createElement("span",null,"Method: ",t[e].method," "),r.a.createElement("span",null,"URL: ",t[e].url," "),r.a.createElement("span",null,"Body: ",JSON.stringify(t[e].body)," "))})))}}]),a}(r.a.Component),w=(a(58),function(){return r.a.createElement("footer",null,"\xa9 2020 Diana Alazzam")}),N=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).formHandler=function(e,t,a){var r={headers:e,response:t};n.setState({loading:a,count:t.count,results:r})},n.renderHistory=function(e){n.setState({history:e},(function(){console.log("ppppppp",this.state)}))},n.historyRecall=function(e){var t=e.currentTarget.innerText;t=t.split("*"),n.setState({method:t[1],url:t[3],body:t[5]},(function(){console.log("sssssssssss",this.state),document.getElementById("textInput").setAttribute("value",t[3]),document.getElementById("bodyTextInput").setAttribute("value",t[5]?t[5]:"")})),console.log("heeey",t)},n.loading=function(e){n.setState({loading:e})},n.state={loading:!1,count:0,results:{},history:{},method:"",url:"",body:""},n}return Object(c.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("main",null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(E,{prompt:"GO!",handler:this.formHandler,url:this.state.url,method:this.state.method,renderHistory:this.renderHistory,progress:this.loading}),r.a.createElement(C,{response:this.state.results,headers:this.state.results.headers,progress:this.state.loading}),r.a.createElement(x,{history:this.state.history,historyRecall:this.historyRecall,renderHistory:this.renderHistory})),r.a.createElement(d.a,{exact:!0,path:"/history"},r.a.createElement(I,{historyList:this.state.history}))),r.a.createElement(w,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.7e2d9f99.chunk.js.map