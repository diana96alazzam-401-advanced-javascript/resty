(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{14:function(e,t,n){},21:function(e,t,n){},26:function(e,t,n){e.exports=n(62)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},40:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(22),o=n.n(s),i=n(12),l=(n(31),n(7)),c=n(8),h=n(10),u=n(9),d=n(2),m=(n(32),n(33),function(){return r.a.createElement("header",null,r.a.createElement("h1",null,"RESTy"),r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.c,{to:"/history"},"History")))))}),p=n(17),y=n.n(p),E=n(24),f=(n(40),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleSubmit=function(){var e=Object(E.a)(y.a.mark((function e(t){var n,r,s,o,i,l,c,h,u,d,m;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),t.persist(),!a.state.url||!a.state.method){e.next=49;break}if(a.props.progress(!0),n={url:a.state.url,method:a.state.method,body:a.state.body},"","","",a.setState({request:n,url:"",method:"",body:""}),r=[],s={body:a.state.body,header:r,host:a.state.url.split("/")[2],method:a.state.method,path:a.state.url.split("/").slice(3).join("/"),url:a.state.url},"GET"!==a.state.method&&"DELETE"!==a.state.method){e.next=29;break}return e.next=15,fetch(n.url);case 15:return o=e.sent,a.props.progress(!1),o.headers.forEach((function(e){return r.push(e)})),e.next=20,o.json();case 20:i=e.sent,a.props.handler(r,i,a.state.loading),l=(new Date).getTime(),(c=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):{})[l]=s,localStorage.setItem("history",JSON.stringify(c)),a.props.renderHistory(c),e.next=44;break;case 29:return e.next=31,fetch(a.state.url,{headers:{"Content-Type":"application/x-www-form-urlencoded"},method:a.state.method,body:a.state.body});case 31:return h=e.sent,a.props.progress(!1),h.headers.forEach((function(e){return r.push(e)})),e.next=36,h.json();case 36:u=e.sent,a.props.handler(r,u),d=(new Date).getTime(),(m=localStorage.getItem("history")?JSON.parse(localStorage.getItem("history")):{})[d]=s,localStorage.setItem("history",JSON.stringify(m)),console.log(m,"what?"),a.props.renderHistory(m);case 44:t.target.url.value="",t.target.body.value="",t.target.method="",e.next=50;break;case 49:alert("missing information");case 50:e.next=55;break;case 52:e.prev=52,e.t0=e.catch(0),console.log(e.t0);case 55:case"end":return e.stop()}}),e,null,[[0,52]])})));return function(t){return e.apply(this,arguments)}}(),a.handleChangeURL=function(e){var t=e.target.value;a.setState({url:t})},a.handleChangeBody=function(e){var t=e.target.value;t&&a.setState({body:t})},a.handleChangeMethod=function(e){var t=e.target.id;a.setState({method:t})},a.props=e,a.state={url:"",method:"",body:{},request:{}},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement("form",{id:"form",onSubmit:this.handleSubmit},r.a.createElement("label",null,r.a.createElement("span",null,"URL: "),r.a.createElement("input",{id:"textInput",name:"url",type:"text",onChange:this.handleChangeURL,className:this.state.url?this.state.url:""}),r.a.createElement("span",null,"Body: "),r.a.createElement("input",{id:"bodyTextInput",name:"body",type:"text",onChange:this.handleChangeBody,className:this.state.body?this.state.body:""}),r.a.createElement("button",{type:"submit"},this.props.prompt)),r.a.createElement("label",{className:"methods"},r.a.createElement("span",{name:"method",className:"GET"===this.state.method?"active":"",id:"GET",onClick:this.handleChangeMethod},"GET"),r.a.createElement("span",{name:"method",className:"POST"===this.state.method?"active":"",id:"POST",onClick:this.handleChangeMethod},"POST"),r.a.createElement("span",{name:"method",className:"PUT"===this.state.method?"active":"",id:"PUT",onClick:this.handleChangeMethod},"PUT"),r.a.createElement("span",{name:"method",className:"DELETE"===this.state.method?"active":"",id:"DELETE",onClick:this.handleChangeMethod},"DELETE")))}}]),n}(r.a.Component)),b=n(18),g=n.n(b),v=n(25),O=n.n(v),S=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null},j=function(e){return r.a.Children.map(e.children,(function(t){return r.a.cloneElement(t,{condition:e.condition})}))},k=function(e){return S(e.condition,e.children)},C=(n(60),function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).props=e,a}return Object(c.a)(n,[{key:"render",value:function(){var e,t,n,a=Object.keys(this.props.history).sort((function(e,t){return t-e}));return this.props.history[a[0]]&&(e=this.props.history[a[0]].method,t=this.props.history[a[0]].url,n=JSON.stringify(this.props.history[a[0]].body)),this.props.progress?r.a.createElement(O.a,{type:"ThreeDots",color:"#2BAD60",height:"100",width:"100"}):r.a.createElement(j,{condition:0!==Object.keys(this.props.response).length},r.a.createElement(k,null,r.a.createElement("div",{id:"resultsDiv"},r.a.createElement("section",{className:"results"},r.a.createElement("span",null,"Headers"),r.a.createElement(g.a,{id:"headersID",src:this.props.headers,theme:"shapeshifter:inverted"}),r.a.createElement("span",null,"Response"),r.a.createElement(g.a,{id:"responseID",src:this.props.response,theme:"shapeshifter:inverted"}))),r.a.createElement(j,{condition:0!==a.length},r.a.createElement("li",{className:"temphistory",onClick:this.props.historyRecall},"Method*",e,"*URL*",t,"*Body*",n))))}}]),n}(r.a.Component));n(14),n(21);var T=function(e){return r.a.createElement("li",{className:"history",onClick:e.historyRecall},r.a.createElement("span",null,"Method*",e.method,"*URL*",e.url,"*Body*",e.body))},x=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){var e=JSON.parse(localStorage.getItem("history"));a.setState({history:e})},a.state=(e.history,{history:e.history}),a}return Object(c.a)(n,[{key:"render",value:function(){var e=this,t=this.state.history?this.state.history:{},n=Object.keys(t).map((function(e){return t[e]}));return r.a.createElement("ul",{id:"historyLog"},Object.keys(n).map((function(a){var s=0===Object.keys(n[a].body).length&&t.constructor===Object?"":n[a].body;return r.a.createElement(T,{key:a,method:n[a].method,url:n[a].url,body:s,historyRecall:e.props.historyRecall})})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.selected!==t.history)return{history:t.history}}}]),n}(r.a.Component),I=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state=e.historyList?e.historyList:{},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("history"));this.setState({history:e})}},{key:"render",value:function(){var e=this.state.history?this.state.history:{},t=Object.keys(e).map((function(t){return e[t].id=t,e[t]}));return r.a.createElement("ul",{id:"historyList"},Object.keys(t).map((function(e){return r.a.createElement("li",{className:"history",key:e},r.a.createElement("span",null,"ID: ",t[e].id," "),r.a.createElement("span",null,"Method: ",t[e].method," "),r.a.createElement("span",null,"URL: ",t[e].url," "),r.a.createElement("span",null,"Body: ",JSON.stringify(t[e].body)," "))})))}}]),n}(r.a.Component),w=(n(61),function(){return r.a.createElement("footer",null,"\xa9 2020 Diana Alazzam")}),N=function(e){Object(h.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).formHandler=function(e,t,n){var r={headers:e,response:t};a.setState({loading:n,count:t.count,results:r})},a.renderHistory=function(e){a.setState({history:e},(function(){console.log("ppppppp",this.state)}))},a.historyRecall=function(e){var t=e.currentTarget.innerText;t=t.split("*"),a.setState({method:t[1],url:t[3],body:t[5]},(function(){document.getElementById("textInput").setAttribute("value",t[3]),document.getElementById("bodyTextInput").setAttribute("value",t[5]?t[5]:"");var e=document.getElementById("textInput"),n=document.getElementById("bodyTextInput");e.dispatchEvent(new Event("input",{bubbles:!0})),n.dispatchEvent(new Event("input",{bubbles:!0}))}))},a.loading=function(e){a.setState({loading:e})},a.state={loading:!1,count:0,results:{},history:{},method:"",url:"",body:""},a}return Object(c.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("main",null,r.a.createElement(d.a,{exact:!0,path:"/"},r.a.createElement(f,{prompt:"GO!",handler:this.formHandler,url:this.state.url,method:this.state.method,renderHistory:this.renderHistory,progress:this.loading}),r.a.createElement(C,{response:this.state.results,headers:this.state.results.headers,progress:this.state.loading,history:this.state.history,historyRecall:this.historyRecall}),r.a.createElement(x,{history:this.state.history,historyRecall:this.historyRecall,renderHistory:this.renderHistory})),r.a.createElement(d.a,{exact:!0,path:"/history"},r.a.createElement(I,{historyList:this.state.history}))),r.a.createElement(w,null))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(i.a,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.a3ebb609.chunk.js.map